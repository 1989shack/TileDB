Content-type: text/html

<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML><HEAD><TITLE>Man page of tiledb_load_csv</TITLE>
</HEAD><BODY>
<H1>tiledb_load_csv</H1>
Section: TileDB programs (1)<BR>Updated: 27 June 2015<BR><A HREF="#index">Index</A>
<A HREF="/cgi-bin/man/man2html">Return to Main Contents</A><HR>

<BR>&nbsp;
<A NAME="lbAB">&nbsp;</A>
<H2>NAME</H2>

tiledb_load_csv - loads a CSV file into an array
<P>
<A NAME="lbAC">&nbsp;</A>
<H2>SYNOPSIS</H2>

<B>tiledb_load_csv </B>

<B>-w </B><I>directory </I><B>-A </B><I>array_name </I><B>-f </B><I>filename</I>

<P>
<A NAME="lbAD">&nbsp;</A>
<H2>DESCRIPTION</H2>

<B>tiledb_load_csv</B>

loads a CSV file into an array. On error, it prints a message on stderr and 
returns an error code (see <B>EXIT STATUS</B>). 
<P>
The following conventions apply to the <B>SYNOPSIS</B> section:
<P>
<TABLE>
<TR VALIGN=top><TD ALIGN=center><B>bold text</B> </TD><TD> type exactly as shown<BR></TD></TR>
<TR VALIGN=top><TD ALIGN=center><I>italic text</I> </TD><TD> replace with appropriate argument<BR></TD></TR>
</TABLE>

<P>
<P>
<B>CSV file format</B> 
<P>
The CSV file is essentially a collection of (CSV) lines, where each line
represents an array cell. The general format of each line is of the form
(no spaces before and after each comma):
<P>
<B>c_1</B> , ... , <B>c_{dim_num}</B> , <B>a_1</B> , ... , <B>a_{attribute_num}</B>
<P>
where <B>c_1</B> , ... , <B>c_{dim_num}</B> are the <B>dim_num</B>
coordinates and <B>a_1</B> , ... , <B>a_{attribute_num}</B> are the 
<B>attribute_num</B> attributes.
<P>
If an attribute takes multiple values, but their number is <I>predefined</I> in 
the array schema (e.g., <B>int:3</B>), then these values are simply included
next to each other and separated by comma. However, if the number of values 
is <I>variable</I> (e.g, <B>int:var</B>), then the number of values must precede 
the actual attribute values (e.g., <B>3,0.1,0.2,0.3</B> for an attribute 
<I>attr1</I> whose type was defined as <B>float:var</B> means that this cell 
stores <B>3</B> values on attribute <I>attr1</I>, namely <B>0.1,0.2,0.3</B>
(more examples are provided below).
<P>
There is one exception of the above for the case of <B>strings</B> (i.e., 
variable lengthed attributes defined as <B>char:var</B>). These are simply given
in one CSV field (e.g., <B>abc</B>), since their number can be easily deduced
by the size of the string (the same is not true for numerics). If multiple
strings are to be included in a <B>var:char</B> attribute, the user must
simply include an arbitray <I>separator</I>. For instance, one may store
strings <B>abc</B> and <B>defg</B> as <B>abc*defg</B>. It falls upon the 
&quot;conslumer&quot; of the data to recognize how to split the strings (TileDB simply 
stores a variable number of characters). Finally, note that,
if an attribute is defined, say, as <B>char:3</B> (i.e., the number of
characters for this attribute per cell is known upon definition), then the
line must simply include <B>a,b,c</B> instead of <B>abc</B> (i.e., it is treated 
as in the case of the other types).
<P>
A <B>null</B> attribute value is represented by character <B>*</B>. 
<P>
A <B>deletion</B> of a cell in TileDB is represented by a CSV line that 
contains the coordinates of the cell to be deleted, and stores character
<B>$</B> in <I>all</I> the attribute fields.
<P>
<B>Example CSV lines</B>
<P>
Suppose that the array contains <B>2 dimensions</B> and <B>3 attributes</B>, whose
types are defined as <B>int:2,double:var,char:var,int64</B> (recall that the 
last type corresponds always to all coordinates collectively).
<DL COMPACT>
<DT><B>1,3,10,11,2,0.1,0.2,paok </B>

<DD>
<B>(1,3)</B> are the coordinates of the cell (of type <B>int64</B>). <B>(10,11)</B>
is the value on the <I>first</I> attribute (of type <B>int</B>). <B>(0.1,0.2)</B> 
is the value of the second attribute (of type <B>double</B>). Finally, <B>paok</B>
is the value of the <I>third</I> attribute (of type <B>char</B>), and my favorite
soccer team in Greece :P.
<DT><B>1,3,10,11,*,paok</B>

<DD>
Same as above, but now the second attribute value is null.
<DT><B>1,3,$,$,$ </B>

<DD>
Cell <B>(1,3)</B> is being deleted.
<BR>&nbsp;
</DL>
<A NAME="lbAE">&nbsp;</A>
<H2>OPTIONS</H2>

<DL COMPACT>
<DT><B>-w</B><I> directory</I><B></B>, <I></I><B>--workspace=</B><I>directory</I>

<DD>
The path to the workspace folder where the TileDB will be stored. The path
must exist, and the caller must have read and write permissions on it.
<P>
<DT><B>-A</B><I> array_name</I><B></B>, <I></I><B>--array-name=</B><I>array_name</I>

<DD>
The name of the array where the data will be loaded. The array
must be already defined. 
<P>
<DT><B>-f</B><I> filename</I><B></B>, <I></I><B>--filename=</B><I>filename</I>

<DD>
The name of the CSV file. 
<P>
</DL>
<A NAME="lbAF">&nbsp;</A>
<H2>EXAMPLES</H2>

<DL COMPACT>
<DT><B>tiledb_load_csv</B> \ <DD>
<BR>&nbsp;&nbsp;&nbsp;&nbsp;<B>-w&nbsp;</B>my_workspace/&nbsp;\
<BR>&nbsp;&nbsp;&nbsp;&nbsp;<B>-A&nbsp;</B>my_array&nbsp;\
<BR>&nbsp;&nbsp;&nbsp;&nbsp;<B>-f&nbsp;</B>my_array.csv
<P>
This loads into array <I>my_array</I> in workspace folder <I>my_workspace</I> the
data stored in the CSV file <I>my_array.csv</I>.
<P>
</DL>
<A NAME="lbAG">&nbsp;</A>
<H2>EXIT STATUS</H2>

<DL COMPACT>
<DT><B>0</B>

<DD>
Successful execution
<DT><B>-1</B>

<DD>
Parser error
<DT><B>-2</B>

<DD>
Undefined array
<DT><B>-3</B>

<DD>
File operation failed
<DT><B>-7</B>

<DD>
TileDB initialization failed
<DT><B>-8</B>

<DD>
TileDB finalization failed
<DT><B>-14</B>

<DD>
Failed to open array
<DT><B>-15</B>

<DD>
Failed to close array
<P>
</DL>
<A NAME="lbAH">&nbsp;</A>
<H2>SEE ALSO</H2>

<B><A HREF="/cgi-bin/man/man2html?1+tiledb_define_array">tiledb_define_array</A></B>(1), <B><A HREF="/cgi-bin/man/man2html?1+tiledb_export_csv">tiledb_export_csv</A></B>(1) <B><A HREF="/cgi-bin/man/man2html?1+tiledb_generate_synthetic_data">tiledb_generate_synthetic_data</A></B>(1) 

<P>
<A NAME="lbAI">&nbsp;</A>
<H2>AUTHOR</H2>

Stavros Papadopoulos &lt;<A HREF="http://people.csail.mit.edu/stavrosp">http://people.csail.mit.edu/stavrosp</A>&gt;, Copyright (c) 2015
<P>

<HR>
<A NAME="index">&nbsp;</A><H2>Index</H2>
<DL>
<DT><A HREF="#lbAB">NAME</A><DD>
<DT><A HREF="#lbAC">SYNOPSIS</A><DD>
<DT><A HREF="#lbAD">DESCRIPTION</A><DD>
<DT><A HREF="#lbAE">OPTIONS</A><DD>
<DT><A HREF="#lbAF">EXAMPLES</A><DD>
<DT><A HREF="#lbAG">EXIT STATUS</A><DD>
<DT><A HREF="#lbAH">SEE ALSO</A><DD>
<DT><A HREF="#lbAI">AUTHOR</A><DD>
</DL>
<HR>
This document was created by
<A HREF="/cgi-bin/man/man2html">man2html</A>,
using the manual pages.<BR>
Time: 21:52:58 GMT, June 29, 2015
</BODY>
</HTML>
